<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Hugo 0.123.6">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="toTop" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="å­èˆ’" />
<meta property="og:url" content="https://zishu.me/tags/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/" />
<link rel="canonical" href="https://zishu.me/tags/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/" /><link rel="apple-touch-icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="shortcut" href="https://imgurl.zishu.me/favicon.ico" /><link rel="alternate" type="application/atom+xml" href="https://zishu.me/index.xml" title="å­èˆ’çš„åšå®¢">
<script type="application/ld+json">
{
"@context" : "http://schema.org",
"@type" : "BlogPosting",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "https:\/\/zishu.me\/"
},
"articleSection" : "tags",
"name" : "æ²¹çŒ´è„šæœ¬",
"headline" : "æ²¹çŒ´è„šæœ¬",
"description" : "",
"inLanguage" : "en-US",
"author" : "å­èˆ’",
"creator" : "å­èˆ’",
"publisher": "å­èˆ’",
"accountablePerson" : "å­èˆ’",
"copyrightHolder" : "å­èˆ’",
"copyrightYear" : "2022",
"datePublished": "2022-06-22 00:00:00 \u002b0000 UTC",
"dateModified" : "2022-06-22 00:00:00 \u002b0000 UTC",
"url" : "https:\/\/zishu.me\/tags\/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC\/",
"keywords" : [  ]
}
</script><title>æ²¹çŒ´è„šæœ¬ - å­èˆ’çš„åšå®¢</title>
<meta property="og:title" content="æ²¹çŒ´è„šæœ¬" />
<meta property="og:type" content="article" />
<meta property="og:description" content="" />
<meta name="description" content="" />
<meta property="og:locale" content="en-us" /><meta property="og:image" content="https://imgurl.zishu.me/favicon.ico" />


<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/index.css">
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="å­èˆ’çš„åšå®¢">
<script src="/js/jquery3.6.0.min.js"></script>
</head>

<body id="container">
  <meter id="isread" max="100" value="0"></meter>
<script>
  window.addEventListener('scroll', function () {
    var scrolled = window.scrollY;
    var totalHeight = document.documentElement.scrollHeight - window.innerHeight;
    var percentage = (scrolled / totalHeight) * 100;
    $('#isread').attr('value', percentage)
  });
</script>


<div id="head" class="site-index">
  <a id="logo" href="/">
    <img src="https://imgurl.zishu.me/author.webp">
  </a>
  <div id="site-title">
    <a href="/">å­èˆ’çš„åšå®¢</a>
  </div>
  <ul id="menu">
    
    <li><a href="/categories/%e6%8a%80%e6%9c%af/">æŠ€æœ¯</a></li>
    
    <li><a href="/categories/%e9%9a%8f%e7%ac%94/">éšç¬”</a></li>
    
    <li><a href="/categories/weekly/">å‘¨åˆŠ</a></li>
    
    <li><a href="/projects/">é¡¹ç›®</a></li>
    
    <li><a href="/message/">ç•™è¨€</a></li>
    
    <li><a href="/about/">å…³äº</a></li>
    
    <li><a href="/index.xml" target="_blank">è®¢é˜…</a></li>
  </ul>
</div>

  <section id="body">
    <h1 id="body-title">ğŸ““ æ²¹çŒ´è„šæœ¬</h1>

    <div id="body-in">
      <h3 class="posts-year" id="2022">2022</h3>
      
      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/143.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/143.html/">
            <h2>æ˜é‡‘æŠ½å¥–è„šæœ¬</h2>
          </a>
          <div class="text">åˆ†äº«ä¸€ä¸ªæ˜é‡‘æŠ½å¥–çš„æ²¹çŒ´è„šæœ¬ï¼Œå¯ä»¥ä¸€é”®ç­¾åˆ°ï¼ŒæŠ½å¥–ï¼Œæ¢­å“ˆã€‚ æ”’å¤šä¸€ç‚¹çŸ¿çŸ³ï¼Œä½“éªŒä¹°å½©ç¥¨çš„æ„Ÿè§‰ã€‚ æ²¹çŒ´è„šæœ¬ä»£ç  ```js // ==UserScript== // @name æ˜é‡‘æŠ½å¥– // @namespace http://tampermonkey.net/ // @version 1.2.5 // @description æ˜é‡‘æŠ½å¥– ç­¾åˆ° å…è´¹æŠ½å¥– 5 è¿æŠ½ 10 è¿æŠ½ å¯è§†åŒ–æŠ½å¥– petite-vue // @author æ— ä»™ // @match https://juejin.cn/* // @icon https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-32x32.png // @require https://unpkg.com/petite-vue // ==/UserScript== (async function () { &lsquo;use strict&rsquo;; const { createApp } = PetiteVue; // ä¸ä¼šå§ä¸ä¼šå§ï¼Œä¸ä¼šè¿˜æœ‰äººä¸çŸ¥é“ petite-vue å§ const root = document.createElement(&lsquo;div&rsquo;); root.class = &lsquo;wx_draw_wrap&rsquo;; root.innerHTML = ` &lt;div v-show=&quot;!popup&quot; class=&ldquo;wx_draw&rdquo; @click=&ldquo;open&rdquo;&gt;æ˜é‡‘æŠ½å¥– &lt;div v-if=&quot;popup&quot; class=&quot;wx_popup&quot;&gt; &lt;div class=&quot;wx_mask&quot; @click=&quot;popup = false&quot;&gt;&lt;/div&gt; &lt;div class=&quot;wx_main&quot;&gt; &lt;div class=&quot;wx_header&quot;&gt; &lt;div&gt;æ˜é‡‘æŠ½å¥–&lt;/div&gt; &lt;div class=&quot;wx_score&quot;&gt;å½“å‰çŸ¿çŸ³ï¼š{{ score }}&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;wx_body&quot;&gt; &lt;div class=&quot;wx_options&quot;&gt; &lt;div @click=&quot;check_in&quot; v-if=&quot;check_status === -1 || check_status === false&quot;&gt;ç­¾åˆ°&lt;/div&gt; &lt;div @click=&quot;get_free&quot; v-else&gt;ç­¾åˆ°æˆåŠŸ&lt;/div&gt; &lt;div @click=&quot;draw(5)&quot;&gt;5 è¿æŠ½&lt;/div&gt; &lt;div @click=&quot;draw(10)&quot;&gt;10 è¿æŠ½&lt;/div&gt; &lt;div @click=&quot;draw(undefined)&quot;&gt;æ¢­å“ˆæŠ½å¥–&lt;/div&gt; &lt;/div&gt; &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;å¥–å“å›¾ç‰‡&lt;/th&gt; &lt;th&gt;å¥–å“åç§°&lt;/th&gt; &lt;th&gt;ä¸­å¥–æ¬¡æ•°&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr v-for=&quot;item in award&quot;&gt; &lt;td&gt;&lt;img :src=&quot;item.lottery_image&quot;/&gt;&lt;/td&gt; &lt;td&gt;{{ item.lottery_name }}&lt;/td&gt; &lt;td&gt;{{ item.times }}&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;div class=&quot;wx_loading&quot; v-if=&quot;loading&quot;&gt; &lt;svg class=&quot;circular&quot; viewBox=&quot;25 25 50 50&quot;&gt; &lt;circle class=&quot;path&quot; cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;20&quot; fill=&quot;none&quot; /&gt; &lt;/svg&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;wx_footer&quot;&gt; &lt;div class=&quot;wx_confirm wx_btn&quot; @click=&quot;popup = false&quot;&gt;å…³é—­&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; `; // æŸ¥è¯¢å¥–å“åˆ—è¡¨ const res = await fetch(&lsquo;https://api.juejin.cn/growth_api/v1/lottery_config/get', { headers: { cookie: document.cookie }, method: &lsquo;GET&rsquo;, credentials: &lsquo;include&rsquo; }).then((res) =&gt; res.json()); const award = (res.data &amp;&amp; res.data.lottery ? res.data.lottery : []).map((item) =&gt; ({ &hellip;item, times: 0 })); const { free_count, point_cost } = res.data; // å‰©ä½™å…è´¹æŠ½å¥–æ¬¡æ•°ï¼Œå•æ¬¡æŠ½å¥–æ¶ˆè€—æ•° document.body.appendChild(root); // æ’å…¥ DOM // petite-vue init åˆå§‹åŒ– createApp({ award, popup: false, loading: false, score: 0, free_count, check_status: -1, async open() { const res = await fetch('https://api.juejin.cn/growth_api/v1/get_cur_point', { headers: { cookie: document.cookie }, method: 'GET', credentials: 'include' }).then((res) =&gt; res.json()); this.score = res.data; // å½“å‰åˆ†æ•° this.popup = true; (this.check_status === -1 || this.check_status === false) &amp;&amp; this.get_status(); }, async draw(times, is_not_free = true) { if (this.loading || times === 0) return; // const is_not_free = !(this.free_count &amp;&amp; times === 1); if (is_not_free &amp;&amp; this.score &lt; point_cost * (times || 1)) return alert('åˆ†éƒ½ä¸å¤Ÿæƒ³å•¥å‘¢ï¼Ÿ'); let i = 0; const drawFn = async () =&gt; { if ((is_not_free &amp;&amp; this.score &lt; point_cost) || i === times) { this.free_count = 0; this.loading = false; this.open(); console.log(`${times ? times + 'è¿æŠ½' : 'æ¢­å“ˆ'}ç»“æŸï¼`); return; } const result = await fetch('https://api.juejin.cn/growth_api/v1/lottery/draw', { headers: { cookie: document.cookie }, method: 'POST', credentials: 'include' }).then((res) =&gt; res.json()); if (result.err_no !== 0) { console.log(result.err_msg); this.loading = false; this.open(); return; } i++; is_not_free &amp;&amp; (this.score -= point_cost); if (result.data.lottery_type === 1) this.score += 66; const item = this.award.find((item) =&gt; item.lottery_id === result.data.lottery_id); item.times++; console.log(`æŠ½åˆ°ï¼š${result.data.lottery_name}`); drawFn(); }; console.log(`å¼€å§‹${times ? times + 'è¿æŠ½' : 'æ¢­å“ˆ'}ï¼`); this.loading = true; this.award.forEach((item) =&gt; { item.times = 0; }); try { drawFn(); } catch (error) { this.loading = false; console.error(error); } }, async check_in() { if (this.check_status) { this.get_free(); // å…è´¹æŠ½å¥– return; } // ç­¾åˆ° const check_in = await fetch('https://api.juejin.cn/growth_api/v1/check_in', { headers: { cookie: document.cookie }, method: 'POST', credentials: 'include' }).then((res) =&gt; res.json()); if (check_in.err_no !== 0) { alert('ç­¾åˆ°å¤±è´¥ï¼'); this.check_status = false; return; } this.check_status = true; this.score = check_in.data.sum_point; this.get_free(); // å…è´¹æŠ½å¥– }, async get_status() { // æŸ¥è¯¢ç­¾åˆ°çŠ¶æ€ const today_status = await fetch('https://api.juejin.cn/growth_api/v1/get_today_status', { headers: { cookie: document.cookie }, method: 'GET', credentials: 'include' }).then((res) =&gt; res.json()); this.check_status = today_status.data; }, async get_free() { // æŸ¥è¯¢æ˜¯å¦æœ‰å…è´¹æŠ½å¥–æ¬¡æ•° const res = await fetch('https://api.juejin.cn/growth_api/v1/lottery_config/get', { headers: { cookie: document.cookie }, method: 'GET', credentials: 'include' }).then((res) =&gt; res.json()); this.free_count = res.data.free_count; if (res.data.free_count) { // æœ‰å…è´¹æŠ½å¥–æ¬¡æ•° this.draw(res.data.free_count, false); } } }).mount(); // å¤„ç†æ ·å¼ const style = .wx_draw_wrap { box-sizing: border-box; position: fixed; top: 50%; left: 0px; z-index: 888888; margin-top: -20px; } .wx_draw { box-sizing: border-box; position: fixed; top: 50%; left: 0px; z-index: 888888; width: 40px; height: 40px; line-height: 16px; font-size: 12px; padding: 4px; background-color: rgb(232, 243, 255); border: 1px solid rgb(232, 243, 255); color: rgb(30, 128, 255); text-align: center; overflow: hidden; cursor: pointer; } .wx_popup { position: fixed; left: 0; top: 0; right: 0; bottom: 0; z-index: 999999; } .wx_mask { width: 100%; height: 100%; background: rgba(0,0,0,0.5); } .wx_main { --width: 460px; position: absolute; left: 50%; top: 50%; width: var(--width); transform: translate(-50%, -50%); background: #fff; border-radius: 4px; } .wx_main .wx_header { height: 40px; line-height: 40px; font-size: 16px; padding: 0 16px; border-bottom: 1px solid #999; display: flex; align-items: center; justify-content: space-between; color: #000; font-weight: 400; } .wx_score { font-size: 12px; font-size: #00a100; } .wx_main .wx_body { padding: 16px; border-bottom: 1px solid #999; position: relative; } .wx_main .wx_options { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; } .wx_main .wx_options div { width: 80px; text-align: center; height: 24px; line-height: 24px; background-color: rgb(232, 243, 255); border: 1px solid #c9d4e3; color: rgb(30, 128, 255); cursor: pointer; border-radius: 2px; } .wx_main .wx_body p { margin: 0 0 8px; } .wx_body table { width: 100%; text-align: center; border-left: 1px solid #ccc; border-top: 1px solid #ccc; } .wx_body table th, .wx_body table td { border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; line-height: 20px; } .wx_body table th { line-height: 28px; } .wx_main .wx_body img { vertical-align: middle; width: 40px; height: 40px; } .wx_main .wx_footer { padding: 12px 16px; text-align: right; } .wx_btn { display: inline-block; width: 48px; cursor: pointer; text-align: center; height: 20px; line-height: 20px; background-color: rgb(232, 243, 255); border: 1px solid #c9d4e3; color: rgb(30, 128, 255); border-radius: 2px; } .wx_loading { position: absolute; left: 0; top: 0; right: 0; bottom: 0; z-index: 9999999; background: rgba(0,0,0,0.65); } .wx_loading .circular { height: 42px; width: 42px; -webkit-animation: loading-rotate 2s linear infinite; animation: loading-rotate 2s linear infinite; position: absolute; left: 50%; top: 50%; margin-top: -21px; margin-left: -21px; } .wx_loading .path { -webkit-animation: loading-dash 1.5s ease-in-out infinite; animation: loading-dash 1.5s ease-in-out infinite; stroke-dasharray: 90, 150; stroke-dashoffset: 0; stroke-width: 2; stroke: #409eff; stroke-linecap: round; } @keyframes loading-rotate { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } } @keyframes loading-dash { 0% { stroke-dasharray: 1, 200; stroke-dashoffset: 0; } 50% { stroke-dasharray: 90, 150; stroke-dashoffset: -40px; } 100% { stroke-dasharray: 90, 150; stroke-dashoffset: -120px; } }; const styleEl = document.createElement(&lsquo;style&rsquo;); styleEl.textContent = style; document.head.appendChild(styleEl); })(); &lt;/details&gt; &lt;/summary&gt;</div>
          <div class="index-post-meta">
            <a href="/blog/143.html/"> # 2022-06-22</a>
            
            
            <span class="namenode">æŠ€æœ¯</span>
            
            
          </div>
        </div>
      </div>

      
    </div>
    
    <footer id="foot">
  <p>Â© 2020 - 2024 Powered by
    <a href="https://github.com/dlzmoe/blog" target="_blank">Github</a>
    / <a href="/index.xml" target="_blank">RSS</a>
  </p>
</footer>

<script src="/js/main.js"></script>
  </section>
</body>

</html>